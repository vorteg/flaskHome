version: '3.0'


services:
  ################################################
  ####        Traefik Proxy Setup           #####
  ###############################################
  flask:
    # The official v2 Traefik docker image
    image: python:3.6.9
    # Enables the web UI and tells Traefik to listen to docker
      

    ports:
      # The HTTP port
      - "80:4000"
      # The Web UI (enabled by --api.insecure=true)
      - "8080:8080"
    volumes:
      # So that Traefik can listen to the Docker events
       - ".:/app:rw"
    working_dir: "/app"
    
    command: bash -c "pip install --no-cache-dir -r requirements.txt && python wsgi.py"
    

